"""
import tkinter as tk
from tkinter import scrolledtext, messagebox
import json
import os

class TextHorrorQuest:
    def __init__(self, root) -> None:
        self.root = root
        self.root.title('–¢–µ–∫—Å—Ç–æ–≤—ã–π –∫–≤–µ—Å—Ç —É–∂–∞—Å–æ–≤: –ü—Ä–æ–ø–∞–≤—à–∞—è —ë–ª–∫–∞ –ò–¢–ú–û')
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞
        self.–®–ò–†–ò–ù–ê = 900  # –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
        self.–í–´–°–û–¢–ê = 600
        self.root.geometry(f"{self.–®–ò–†–ò–ù–ê}x{self.–í–´–°–û–¢–ê}")
        self.root.resizable(True, True)
        
        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
        self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞ = "start"
        self.–∏–º—è_–∏–≥—Ä–æ–∫–∞ = "–ò–≥—Ä–æ–∫"
        self.–∏—Å—Ç–æ—Ä–∏—è = self.–∑–∞–≥—Ä—É–∑–∏—Ç—å_–∏—Å—Ç–æ—Ä–∏—é()
        
        # –°–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        self.—Å–æ–∑–¥–∞—Ç—å_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å()
        
        # –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ü–µ–Ω—É
        self.–ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ü–µ–Ω—É("start")
    
    def —Å–æ–∑–¥–∞—Ç—å_–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å(self):
        """–°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏–≥—Ä—ã"""
        
        # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º
        –æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º = tk.Frame(self.root, bg="#2c3e50")
        –æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º.pack(fill=tk.BOTH, expand=True)
        
        # –ó–∞–≥–æ–ª–æ–≤–æ–∫
        –∑–∞–≥–æ–ª–æ–≤–æ–∫_—Ä–∞–º–∫–∞ = tk.Frame(–æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º, bg="#34495e", height=60)
        –∑–∞–≥–æ–ª–æ–≤–æ–∫_—Ä–∞–º–∫–∞.pack(fill=tk.X)
        –∑–∞–≥–æ–ª–æ–≤–æ–∫_—Ä–∞–º–∫–∞.pack_propagate(False)
        
        –∑–∞–≥–æ–ª–æ–≤–æ–∫ = tk.Label(
            –∑–∞–≥–æ–ª–æ–≤–æ–∫_—Ä–∞–º–∫–∞,
            text="–¢–ï–ö–°–¢–û–í–´–ô –ö–í–ï–°–¢ –£–ñ–ê–°–û–í: –ü–†–û–ü–ê–í–®–ê–Ø –Å–õ–ö–ê –ò–¢–ú–û",
            font=("Arial", 18, "bold"),
            fg="white",
            bg="#34495e"
        )
        –∑–∞–≥–æ–ª–æ–≤–æ–∫.pack(pady=15)
        
        # –§—Ä–µ–π–º –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        –∫–æ–Ω—Ç–µ–Ω—Ç_—Ñ—Ä–µ–π–º = tk.Frame(–æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º, bg="#ecf0f1")
        –∫–æ–Ω—Ç–µ–Ω—Ç_—Ñ—Ä–µ–π–º.pack(fill=tk.BOTH, expand=True, padx=20, pady=20)
        
        # –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - —Ç–µ–∫—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏
        –ª–µ–≤–∞—è_–ø–∞–Ω–µ–ª—å = tk.LabelFrame(
            –∫–æ–Ω—Ç–µ–Ω—Ç_—Ñ—Ä–µ–π–º,
            text=" üìñ –ò–°–¢–û–†–ò–Ø ",
            font=("Arial", 12, "bold"),
            bg="white",
            fg="#2c3e50",
            relief=tk.GROOVE,
            borderwidth=2
        )
        –ª–µ–≤–∞—è_–ø–∞–Ω–µ–ª—å.pack(side=tk.LEFT, fill=tk.BOTH, expand=True, padx=(0, 10))
        
        # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ = scrolledtext.ScrolledText(
            –ª–µ–≤–∞—è_–ø–∞–Ω–µ–ª—å,
            wrap=tk.WORD,
            font=("Georgia", 13),
            bg="#fff8e1",
            relief=tk.FLAT,
            height=20,
            padx=15,
            pady=15
        )
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.pack(fill=tk.BOTH, expand=True, padx=10, pady=10)
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.config(state=tk.DISABLED)
        
        # –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –≤—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π
        –ø—Ä–∞–≤–∞—è_–ø–∞–Ω–µ–ª—å = tk.LabelFrame(
            –∫–æ–Ω—Ç–µ–Ω—Ç_—Ñ—Ä–µ–π–º,
            text=" üéØ –í–´–ë–û–† –î–ï–ô–°–¢–í–ò–ô ",
            font=("Arial", 12, "bold"),
            bg="white",
            fg="#2c3e50",
            relief=tk.GROOVE,
            borderwidth=2,
            width=300
        )
        –ø—Ä–∞–≤–∞—è_–ø–∞–Ω–µ–ª—å.pack(side=tk.RIGHT, fill=tk.BOTH, padx=(10, 0))
        –ø—Ä–∞–≤–∞—è_–ø–∞–Ω–µ–ª—å.pack_propagate(False)
        
        # –§—Ä–µ–π–º –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞
        self.—Ñ—Ä–µ–π–º_–∫–Ω–æ–ø–æ–∫ = tk.Frame(–ø—Ä–∞–≤–∞—è_–ø–∞–Ω–µ–ª—å, bg="white")
        self.—Ñ—Ä–µ–π–º_–∫–Ω–æ–ø–æ–∫.pack(fill=tk.BOTH, expand=True, padx=15, pady=15)
        
        # –§—Ä–µ–π–º –¥–ª—è –≤–≤–æ–¥–∞ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
        –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å = tk.Frame(–æ—Å–Ω–æ–≤–Ω–æ–π_—Ñ—Ä–µ–π–º, bg="#34495e", height=50)
        –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å.pack(fill=tk.X, side=tk.BOTTOM)
        –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å.pack_propagate(False)
        
        –º–µ—Ç–∫–∞_–∏–º–µ–Ω–∏ = tk.Label(
            –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å,
            text="üë§ –í–∞—à–µ –∏–º—è:",
            font=("Arial", 11),
            fg="white",
            bg="#34495e"
        )
        –º–µ—Ç–∫–∞_–∏–º–µ–Ω–∏.pack(side=tk.LEFT, padx=(20, 10), pady=15)
        
        self.–ø–æ–ª–µ_–≤–≤–æ–¥–∞_–∏–º–µ–Ω–∏ = tk.Entry(
            –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å,
            font=("Arial", 11),
            width=20,
            relief=tk.GROOVE
        )
        self.–ø–æ–ª–µ_–≤–≤–æ–¥–∞_–∏–º–µ–Ω–∏.pack(side=tk.LEFT, padx=(0, 10), pady=15)
        self.–ø–æ–ª–µ_–≤–≤–æ–¥–∞_–∏–º–µ–Ω–∏.insert(0, "–ò–≥—Ä–æ–∫")
        
        –∫–Ω–æ–ø–∫–∞_–∏–º–µ–Ω–∏ = tk.Button(
            –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å,
            text="‚úì –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–º—è",
            font=("Arial", 10, "bold"),
            bg="#27ae60",
            fg="white",
            relief=tk.RAISED,
            command=self.—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_–∏–º—è
        )
        –∫–Ω–æ–ø–∫–∞_–∏–º–µ–Ω–∏.pack(side=tk.LEFT, padx=(0, 20), pady=15)
        
        # –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–≥—Ä—ã
        –∫–Ω–æ–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è = tk.Button(
            –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å,
            text="üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É",
            font=("Arial", 10, "bold"),
            bg="#2980b9",
            fg="white",
            relief=tk.RAISED,
            command=self.—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å_–∏–≥—Ä—É
        )
        –∫–Ω–æ–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.pack(side=tk.RIGHT, padx=(0, 10), pady=15)
        
        # –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞
        –∫–Ω–æ–ø–∫–∞_–≤—ã—Ö–æ–¥–∞ = tk.Button(
            –Ω–∏–∂–Ω—è—è_–ø–∞–Ω–µ–ª—å,
            text="üö™ –í—ã—Ö–æ–¥",
            font=("Arial", 10, "bold"),
            bg="#e74c3c",
            fg="white",
            relief=tk.RAISED,
            command=self.root.quit
        )
        –∫–Ω–æ–ø–∫–∞_–≤—ã—Ö–æ–¥–∞.pack(side=tk.RIGHT, padx=(10, 20), pady=15)
    
    def –∑–∞–≥—Ä—É–∑–∏—Ç—å_–∏—Å—Ç–æ—Ä–∏—é(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä—ã –∏–∑ JSON —Ñ–∞–π–ª–∞"""
        try:
            –ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É = os.path.join("data", "story.json")
            with open(–ø—É—Ç—å_–∫_—Ñ–∞–π–ª—É, "r", encoding="utf-8") as —Ñ–∞–π–ª:
                return json.load(—Ñ–∞–π–ª)
        except FileNotFoundError:
            —Å–æ–æ–±—â–µ–Ω–∏–µ = "–§–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω!\n–°–æ–∑–¥–∞–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è."
            messagebox.showwarning("–í–Ω–∏–º–∞–Ω–∏–µ", —Å–æ–æ–±—â–µ–Ω–∏–µ)
            return self.—Å–æ–∑–¥–∞—Ç—å_—Ç–µ—Å—Ç–æ–≤—É—é_–∏—Å—Ç–æ—Ä–∏—é()
    
    def —Å–æ–∑–¥–∞—Ç—å_—Ç–µ—Å—Ç–æ–≤—É—é_–∏—Å—Ç–æ—Ä–∏—é(self):
        """–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –µ—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"""
        return {
            "start": {
                "text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–≤–µ—Å—Ç '–ü—Ä–æ–ø–∞–≤—à–∞—è —ë–ª–∫–∞ –ò–¢–ú–û'!\n\n–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∏–≥—Ä—ã. –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞.",
                "choices": [
                    {"text": "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É", "next": "test_scene"}
                ]
            },
            "test_scene": {
                "text": "–í—ã —Å—Ç–æ–∏—Ç–µ –ø–µ—Ä–µ–¥ –∑–¥–∞–Ω–∏–µ–º –ò–¢–ú–û. –°—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –Ω–æ–≤–æ–≥–æ–¥–Ω—è—è —ë–ª–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Å–µ–≥–¥–∞ —Å—Ç–æ—è–ª–∞ –∑–¥–µ—Å—å, –∏—Å—á–µ–∑–ª–∞!",
                "choices": [
                    {"text": "–û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è –≤–æ–∫—Ä—É–≥", "next": "end"},
                    {"text": "–°–ø—Ä–æ—Å–∏—Ç—å —É –ø—Ä–æ—Ö–æ–∂–∏—Ö", "next": "end"}
                ]
            },
            "end": {
                "text": "–¢–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!\n\n–î–ª—è –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª data/story.json —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é.",
                "choices": []
            }
        }
    
    def –ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ü–µ–Ω—É(self, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä_—Å—Ü–µ–Ω—ã):
        """–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å—Ü–µ–Ω—ã –∏–≥—Ä—ã"""
        self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞ = –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä_—Å—Ü–µ–Ω—ã
        —Å—Ü–µ–Ω–∞ = self.–∏—Å—Ç–æ—Ä–∏—è.get(–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä_—Å—Ü–µ–Ω—ã, {})
        
        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—Å—Ç —Å—Ü–µ–Ω—ã
        —Ç–µ–∫—Å—Ç_—Å—Ü–µ–Ω—ã = —Å—Ü–µ–Ω–∞.get("text", "–¢–µ–∫—Å—Ç —Å—Ü–µ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω")
        
        # –ó–∞–º–µ–Ω—è–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞
        if "{player_name}" in —Ç–µ–∫—Å—Ç_—Å—Ü–µ–Ω—ã:
            —Ç–µ–∫—Å—Ç_—Å—Ü–µ–Ω—ã = —Ç–µ–∫—Å—Ç_—Å—Ü–µ–Ω—ã.replace("{player_name}", self.–∏–º—è_–∏–≥—Ä–æ–∫–∞)
        
        # –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.config(state=tk.NORMAL)
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.delete(1.0, tk.END)
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.insert(1.0, —Ç–µ–∫—Å—Ç_—Å—Ü–µ–Ω—ã)
        self.—Ç–µ–∫—Å—Ç–æ–≤–æ–µ_–ø–æ–ª–µ.config(state=tk.DISABLED)
        
        # –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –∫–Ω–æ–ø–∫–∏
        for –≤–∏–¥–∂–µ—Ç in self.—Ñ—Ä–µ–π–º_–∫–Ω–æ–ø–æ–∫.winfo_children():
            –≤–∏–¥–∂–µ—Ç.destroy()
        
        # –ü–æ–ª—É—á–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–±–æ—Ä–∞
        –≤–∞—Ä–∏–∞–Ω—Ç—ã = —Å—Ü–µ–Ω–∞.get("choices", [])
        
        if not –≤–∞—Ä–∏–∞–Ω—Ç—ã:
            # –ï—Å–ª–∏ –Ω–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ - –∏–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞
            self.–ø–æ–∫–∞–∑–∞—Ç—å_–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ_–∏–≥—Ä—ã()
        else:
            # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
            for –∏–Ω–¥–µ–∫—Å, –≤—ã–±–æ—Ä in enumerate(–≤–∞—Ä–∏–∞–Ω—Ç—ã):
                –∫–Ω–æ–ø–∫–∞ = tk.Button(
                    self.—Ñ—Ä–µ–π–º_–∫–Ω–æ–ø–æ–∫,
                    text=–≤—ã–±–æ—Ä["text"],
                    font=("Arial", 11),
                    bg="#3498db",
                    fg="white",
                    relief=tk.RAISED,
                    width=30,
                    height=2,
                    wraplength=250,
                    command=lambda idx=–∏–Ω–¥–µ–∫—Å: self.–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å_–≤—ã–±–æ—Ä(idx)
                )
                –∫–Ω–æ–ø–∫–∞.pack(pady=8, fill=tk.X)
    
    def –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å_–≤—ã–±–æ—Ä(self, –∏–Ω–¥–µ–∫—Å_–≤—ã–±–æ—Ä–∞):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞"""
        —Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞ = self.–∏—Å—Ç–æ—Ä–∏—è.get(self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞, {})
        –≤–∞—Ä–∏–∞–Ω—Ç—ã = —Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞.get("choices", [])
        
        if 0 <= –∏–Ω–¥–µ–∫—Å_–≤—ã–±–æ—Ä–∞ < len(–≤–∞—Ä–∏–∞–Ω—Ç—ã):
            –≤—ã–±—Ä–∞–Ω–Ω—ã–π_–≤–∞—Ä–∏–∞–Ω—Ç = –≤–∞—Ä–∏–∞–Ω—Ç—ã[–∏–Ω–¥–µ–∫—Å_–≤—ã–±–æ—Ä–∞]
            —Å–ª–µ–¥—É—é—â–∞—è_—Å—Ü–µ–Ω–∞ = –≤—ã–±—Ä–∞–Ω–Ω—ã–π_–≤–∞—Ä–∏–∞–Ω—Ç.get("next")
            
            if —Å–ª–µ–¥—É—é—â–∞—è_—Å—Ü–µ–Ω–∞ in self.–∏—Å—Ç–æ—Ä–∏—è:
                self.–ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ü–µ–Ω—É(—Å–ª–µ–¥—É—é—â–∞—è_—Å—Ü–µ–Ω–∞)
            else:
                messagebox.showerror("–û—à–∏–±–∫–∞", f"–°—Ü–µ–Ω–∞ '{—Å–ª–µ–¥—É—é—â–∞—è_—Å—Ü–µ–Ω–∞}' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!")
    
    def —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å_–∏–º—è(self):
        """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞"""
        –Ω–æ–≤–æ–µ_–∏–º—è = self.–ø–æ–ª–µ_–≤–≤–æ–¥–∞_–∏–º–µ–Ω–∏.get().strip()
        if –Ω–æ–≤–æ–µ_–∏–º—è:
            self.–∏–º—è_–∏–≥—Ä–æ–∫–∞ = –Ω–æ–≤–æ–µ_–∏–º—è
            messagebox.showinfo("–ò–º—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ", f"–ü—Ä–∏–≤–µ—Ç, {–Ω–æ–≤–æ–µ_–∏–º—è}!")
            # –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —Å—Ü–µ–Ω—É —Å –Ω–æ–≤—ã–º –∏–º–µ–Ω–µ–º
            self.–ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ü–µ–Ω—É(self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞)
    
    def –ø–æ–∫–∞–∑–∞—Ç—å_–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ_–∏–≥—Ä—ã(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã"""
        # –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã
        –∫–Ω–æ–ø–∫–∞_–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ = tk.Button(
            self.—Ñ—Ä–µ–π–º_–∫–Ω–æ–ø–æ–∫,
            text="üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",
            font=("Arial", 12, "bold"),
            bg="#e67e22",
            fg="white",
            relief=tk.RAISED,
            width=30,
            height=2,
            command=self.–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å_–∏–≥—Ä—É
        )
        –∫–Ω–æ–ø–∫–∞_–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.pack(pady=20)
    
    def –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å_–∏–≥—Ä—É(self):
        """–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã —Å –Ω–∞—á–∞–ª–∞"""
        self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞ = "start"
        self.–ø–æ–∫–∞–∑–∞—Ç—å_—Å—Ü–µ–Ω—É("start")
    
    def —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å_–∏–≥—Ä—É(self):
        """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–≥—Ä—ã"""
        try:
            # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É saves –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
            –ø–∞–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π = "saves"
            if not os.path.exists(–ø–∞–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π):
                os.makedirs(–ø–∞–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π)
            
            # –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            –¥–∞–Ω–Ω—ã–µ_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è = {
                "player_name": self.–∏–º—è_–∏–≥—Ä–æ–∫–∞,
                "current_scene": self.—Ç–µ–∫—É—â–∞—è_—Å—Ü–µ–Ω–∞,
                "timestamp": "2024-01-09"  # –í —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ datetime
            }
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª
            –ø—É—Ç—å_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è = os.path.join(–ø–∞–ø–∫–∞_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π, "–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.json")
            with open(–ø—É—Ç—å_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, "w", encoding="utf-8") as —Ñ–∞–π–ª:
                json.dump(–¥–∞–Ω–Ω—ã–µ_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, —Ñ–∞–π–ª, ensure_ascii=False, indent=2)
            
            messagebox.showinfo("–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ", "–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!")
            
        except Exception as –æ—à–∏–±–∫–∞:
            messagebox.showerror("–û—à–∏–±–∫–∞", f"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É:\n{–æ—à–∏–±–∫–∞}")


def main():
    """–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã"""
    –∫–æ—Ä–µ–Ω—å = tk.Tk()
    
    # –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –æ–∫–Ω–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    —à–∏—Ä–∏–Ω–∞_—ç–∫—Ä–∞–Ω–∞ = –∫–æ—Ä–µ–Ω—å.winfo_screenwidth()
    –≤—ã—Å–æ—Ç–∞_—ç–∫—Ä–∞–Ω–∞ = –∫–æ—Ä–µ–Ω—å.winfo_screenheight()
    x = (—à–∏—Ä–∏–Ω–∞_—ç–∫—Ä–∞–Ω–∞ - 900) // 2
    y = (–≤—ã—Å–æ—Ç–∞_—ç–∫—Ä–∞–Ω–∞ - 600) // 2
    –∫–æ—Ä–µ–Ω—å.geometry(f"900x600+{x}+{y}")
    
    # –°–æ–∑–¥–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
    –∏–≥—Ä–∞ = TextHorrorQuest(–∫–æ—Ä–µ–Ω—å)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª
    –∫–æ—Ä–µ–Ω—å.mainloop()


if __name__ == "__main__":
    main()
